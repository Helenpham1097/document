{{# Template for a blog entry #}}
{{ partial:snippets/scrollProgress }}
<div class="container relative -z-10 hidden xl:block mx-auto my-0 py-0">
	{{ partial:global/diagonal gradient_style='absolute top-0 mx-auto w-full translate-x-1/2 -translate-y-1/2' }}
</div>
<div class="container pb-20 pt-12 lg:py-24">
	{{# Breadcrums #}}
	<div class="-my-1 ml-[calc(50%-50vw)] w-screen overflow-x-auto py-1">
		<div class="container">
			<ul class="-ml-1.5 flex text-zinc-700 dark:text-zinc-400">
				<li class="shrink-0 text-sm">
					<div class="flex items-center">
						<a href="/blog" class="pl-1.5 pr-[7px] underline">Blog</a>
						<div class="mx-[3px] text-[11px] font-medium">/</div>
					</div>
				</li>
				<li class="hidden shrink-0 text-sm lg:block"><div class="px-1.5">{{ title }}</div></li>
				<li class="shrink-0 text-sm lg:hidden"><div class="px-1.5">{{ title | safe_truncate:40:... }}</div></li>
			</ul>
		</div>
	</div>
	<div href="#top" class="mt-4">
		{{ partial:typography/h1 :content="title" color='max-w-5xl text-3xl tracking-tight [text-wrap:balance] sm:text-4xl lg:text-6xl' }}
		<div class="mt-8 flex items-center gap-x-1 sm:mt-10 sm:gap-x-1.5">{{ partial:components/author link='true' }}</div>
		{{ partial:components/share class='flex mt-4 lg:hidden' }}
	</div>

	{{# Content and ON THIS PAGE sidebar #}}
	<div class="relative mt-[60px] flex flex-col gap-x-6 gap-y-[72px] lg:mt-[130px] lg:flex-row">
		<div class="flex-1">
			<main class="grid grid-cols-1 lg:grid-cols-10 lg:gap-x-12">
				<div class="pb-0 lg:col-span-7 lg:pb-[60px] 2xl:col-span-6">
					{{ if default_image }}
						<figure class="bento_box w-full overflow-hidden rounded-lg shadow-2xl shadow-zinc-800/20 dark:shadow-black/10 lg:aspect-[6/4]">
							<picture>
								<source media="(max-width: 640px)" srcset="{{ glide:default_image width='600' height='450' quality='90' format='webp' }} 1x, {{ glide:default_image width='600' height='450' quality='90' format='webp' }} 2x" />
								<source media="(min-width: 641px) and (max-width: 768px)" srcset="{{ glide:default_image width='736' height='552' quality='90' format='webp' }} 1x, {{ glide:default_image width='736' height='552' quality='90' format='webp' }} 2x" />
								<img class="h-full w-full object-cover" src="{{ glide:default_image quality='90' width='736' height='556' format='webp' }}" srcset="{{ glide:default_image quality='90' width='736' height='556' format='webp' }} 1x, {{ glide:default_image width='736' height='552' quality='90' format='webp' }} 2x" alt="{{ default_image.alt ?: default_image }}" decoding="sync" width="736" height="556" />
							</picture>
						</figure>
					{{ /if }}
					<div id="content" class="prose prose-lg mx-auto">
						{{ partial:typography/excerpt :content="excerpt" class='mt-12' }}
						{{ page_builder scope="block" }}
							{{ partial src="page_builder/{type}" }}
						{{ /page_builder }}
					</div>
				</div>
				{{# Sidebar #}}
				<div class="hidden space-y-6 self-start lg:col-span-3 lg:col-start-8 lg:block">
					<div class="w-full">
						<div class="mx-auto flex w-full flex-col gap-2">
							<div class="flex items-center gap-2 text-lg font-semibold text-zinc-800 dark:text-zinc-200">
								{{ svg src="{{config:iconamic:path}}/mail-plus.svg" class='size-4 flex-none' }}
								Subscribe to get notify
							</div>
							{{ partial:components/subscribe_form }}
						</div>
					</div>
					{{# Related articles #}}
					<div class="w-full">
						<div class="flex items-center gap-2 text-lg font-semibold text-zinc-800 dark:text-zinc-200">
							{{ svg src="{{config:iconamic:path}}/newspaper.svg" class='size-4 flex-none' }}
							Related articles
						</div>
						<div class="divide-y divide-zinc-200 dark:divide-zinc-800">
							{{ if related_posts }}
								{{ related_posts }}
									{{ partial:blog/post hide_author="true" hide_subheader="true" title_class="text-xl" subheader_class="text-base" square="true" }}
								{{ /related_posts }}
								{{else}}
									{{ collection:blog :id:isnt="id" :limit="latest_news:entries_limit" sort="date:desc" }}
										{{ partial:blog/post hide_author="true" hide_subheader="true" title_class="text-xl" subheader_class="text-base" square="true" }}
									{{ /collection:blog }}
							{{ /if }}
						</div>
					</div>
					{{# Share #}}
					<div class="w-full">
						<div class="flex items-center gap-2 text-lg font-semibold text-zinc-800 dark:text-zinc-200">
							{{ svg src="{{config:iconamic:path}}/share-2.svg" class='size-4 flex-none' }}
							Share this article:
						</div>
						<div class="px-3 lg:px-8">
							{{ partial:components/share class='lg:flex -ml-2 mt-1.5 hidden' }}
						</div>
					</div>
				</div>
			</main>
		</div>
		<div class="back-to-top-wrapper z-20">
			<a href="#top" class="back-to-top-link border border-zinc-300 bg-white dark:border-zinc-700 dark:bg-zinc-800" aria-label="Scroll to Top">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up h-8 w-8"><path d="m18 15-6-6-6 6" /></svg>
			</a>
		</div>
	</div>
	<div class="lg:hidden mt-24">
		<div class="flex items-center gap-2 text-2xl font-semibold text-zinc-800 dark:text-zinc-200">
			{{ svg src="{{config:iconamic:path}}/newspaper.svg" class='size-4 flex-none' }}
			Related articles
		</div>
		<div class="divide-y divide-zinc-200 dark:divide-zinc-800">
			{{ if related_posts }}
				{{ related_posts }}
					{{ partial:blog/post hide_author="true" hide_subheader="true" title_class="text-xl" subheader_class="text-base" square="true" }}
				{{ /related_posts }}
				{{else}}
					{{ collection:blog :id:isnt="id" :limit="latest_news:entries_limit" sort="date:desc" }}
						{{ partial:blog/post hide_author="true" hide_subheader="true" title_class="text-xl" subheader_class="text-base" square="true" }}
					{{ /collection:blog }}
			{{ /if }}
		</div>
	</div>
</div>
