{{# Template for blog index page #}}
{{# Check for Stickied post #}}
<div class="container relative w-full translate-x-1/2 scale-x-[-1]">
	<div class="ani_overlap absolute flex w-full -skew-x-[-45deg] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_10%,transparent_100%)]">
		<div class="h-[400px] w-full bg-gradient-to-r from-zinc-900/10 to-transparent dark:from-white/10"></div>
		<div class="h-[400px] w-full bg-gradient-to-r from-zinc-900/10 to-transparent dark:from-white/10"></div>
		<div class="h-[400px] w-full bg-gradient-to-r from-zinc-900/10 to-transparent dark:from-white/10"></div>
		<div class="h-[400px] w-full bg-gradient-to-r from-zinc-900/10 to-transparent dark:from-white/10"></div>
		<div class="h-[400px] w-full bg-gradient-to-r from-zinc-900/10 to-transparent dark:from-white/10"></div>
	</div>
</div>
<div class="container mx-auto space-y-16 py-12 lg:space-y-32 lg:py-24">
	{{ if stickied_post && (get:page == "1" || !get:page) }}
		<div class="flex flex-col items-center gap-12 lg:flex-row">
			<div class="flex w-full flex-col gap-4 lg:w-2/3">
				{{ partial:typography/h1 :content="title" color='dot' }}
				<p class="max-w-2xl text-zinc-700 dark:text-zinc-400">{{ description }}</p>
			</div>
			<div class="mx-auto flex w-full flex-col gap-2 lg:w-1/3">
				<div class="flex items-center gap-2 text-lg font-semibold text-zinc-800 dark:text-zinc-50">
					Subscribe to get notify
					{{ svg src="{{config:iconamic:path}}/mail-plus.svg" class='size-4 text-zinc-800 dark:text-zinc-50 flex-none' }}
				</div>
				{{ partial:components/subscribe_form }}
			</div>
		</div>
	{{ /if }}
	<div class="space-y-16">
		{{# Category filter #}}
		{{# {{ partial:components/category_filter }} #}}
		{{# Articles #}}
		<div class="mt-6 grid grid-cols-1 gap-x-8 gap-y-12 sm:mt-10 md:grid-cols-2 xl:grid-cols-3">
			{{# Featured article #}}
			{{ if stickied_post && (get:page == "1" || !get:page) }}
				{{ stickied_post }}
					{{ partial:blog/post feature='true' }}
				{{ /stickied_post }}
				{{ collection:blog limit="5" paginate="true" id:not="{stickied_post:id}" as='posts' sort="date:desc" }}
					{{ posts }}
						{{ partial:blog/post }}
					{{ /posts }}
				{{ /collection:blog }}
			{{ else }}
				{{ collection:blog limit="6" paginate="true" id:not="{stickied_post:id}" as='posts' sort="date:desc" }}
					{{ posts }}
						{{ partial:blog/post }}
					{{ /posts }}
				{{ /collection:blog }}
			{{ /if }}
		</div>
	</div>

	{{# Paginator #}}
	{{ collection:blog limit="6" paginate="true" }}
		<div class="lg:col-span-12">
			{{ if {collection:count in="blog"} > 6 }}
				{{ partial:blog/paginate }}
			{{ /if }}
		</div>
	{{ /collection:blog }}
</div>
