{{# Partial template for non-featured blog posts, used in the blog index grid and related blog entries #}}
{{ if square }}
	<a class="group flex flex-col gap-y-5 px-3 text-zinc-800 lg:px-8" href="{{ url }}">
		<div class="{{ switch between=' | lg:order-first' }} relative flex flex-col">
			<div>
				<div class="mb-2 text-base font-medium leading-none text-purple-500 dark:text-green-500">
					<span>
						{{ if categories }}
							{{ categories limit="1" }}
								{{ title }}
							{{ /categories }}
						{{ else }}
							Category
						{{ /if }}
					</span>
				</div>
				<h2 class="before:top-sm relative mb-2 font-semibold leading-tight text-zinc-800 before:absolute before:-left-3 before:-top-px before:h-6 before:w-px before:bg-purple-500 dark:text-zinc-200 dark:before:bg-green-500 lg:before:-left-8 lg:before:w-1">{{ title }}</h2>
				<p class="mb-4 text-base text-zinc-700 dark:text-zinc-400">{{ excerpt }}</p>
			</div>
		</div>
	</a>
{{ else }}
	<div class="{{ if feature }} order-first {{ /if }} group relative isolate">
		{{ if feature }}
			<div class="absolute -top-4 left-4 z-10 flex -translate-y-1/2 items-center gap-1 text-purple-500 dark:bg-zinc-900 dark:text-green-500">
				{{ svg src="{{config:iconamic:path}}/sparkles.svg" class='size-4 animate-pulse flex-none' }}
				<span>Featured</span>
			</div>
		{{ /if }}
		<div class="{{ if ! feature }} shadow-[0_2px_10px] shadow-zinc-900/20 {{ /if }} relative aspect-[1200/630] overflow-hidden rounded-lg transition ease-in-out group-hover:-translate-y-1">
			{{ if feature }}
				<div class="light1 absolute bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-purple-500 via-transparent dark:from-green-500 dark:via-transparent lg:-inset-[150px]"></div>
				<div class="absolute inset-[1px] -z-10 bg-white dark:bg-zinc-900/90 lg:rounded-[0.4rem]"></div>
			{{ /if }}
			{{ if feature }}
				{{ partial:global/picture :image="default_image" lazy="false" class="absolute inset-0 rounded-lg p-0.5 size-full object-cover" }}
			{{ else }}
				{{ partial:global/picture :image="default_image" lazy="false" class="absolute inset-0 rounded-lg size-full object-cover" }}
			{{ /if }}
			<div class="relative z-10 h-48 w-full opacity-0 transition-opacity duration-500 group-hover:opacity-90">
				<div class="absolute -top-1/2 h-full w-full">
					<div class="relative flex h-full w-full rotate-45 items-center justify-center [--baseOpacity:0.5] [--baseSize:200px] [--duration:1.5s] [--opacityStep:0.05] [--scale:1.25] [--sizeStep:64px]">
						<div class="ripple absolute bg-white/10 [--i:0]"></div>
						<div class="ripple absolute bg-white/10 [--i:1]"></div>
						<div class="ripple absolute bg-white/10 [--i:2]"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="mt-6 flex flex-col lg:px-4">
			<h2 class="mt-3 text-pretty text-xl font-bold tracking-[-0.015em] text-zinc-950">
				<a href="{{ url }}">
					{{ title }}
					<span class="absolute inset-0 z-10"></span>
				</a>
			</h2>
			<p class="mb-auto mt-1 line-clamp-2 text-zinc-700 dark:text-zinc-400">{{ excerpt }}</p>
			<dl class="order-first">
				<dt class="sr-only">Published</dt>
				<dd class="text-sm text-zinc-950 dark:text-zinc-50"><time datetime="{{ date iso_format="DD MMMM, YYYY" }}">{{ date iso_format="DD MMMM, YYYY" }}</time></dd>
			</dl>
		</div>
	</div>
{{ /if }}
