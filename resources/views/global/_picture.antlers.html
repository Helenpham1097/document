{{#
    Global Image view
#}}

{{# /global/_picture.antlers.html #}}
{{ if image }}
<picture>
    {{ asset :url="image" }}
        {{# Check if the image extension is SVG or GIF #}}
        {{ if extension == 'svg' || extension == 'gif' }}
            <img class="{{ class }}" src="{{ url }}" alt="{{ alt }}" height='{{  height ?? maxheight }}' width='{{ width ?? maxwidth }}'  />
        {{ else }}
            {{ if responsive }}
            {{# To define whether an image will have a responsive version or not, it must be defined in the partial's call as responsive='true' #}}
            {{# Just if maximum desktop size is defined ( maxheight and maxwidth ) crop the image #}}
            {{# The normal and retina version is generated for each screen size with dpr='2' and 2x #}}
            {{# Source for large screens uses maxwidth #}}
            <source media="(min-width: 1280px)"
                srcset="{{ glide:image fit='crop_focal' sharpen='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='{{ maxwidth ?? width }}' quality='{{ quality ?? '90' }}' }},
                        {{ glide:image fit='crop_focal' dpr='1.5' format='webp' height='{{ maxheight ? maxheight : '' }}' width='{{ maxwidth ?? width }}' quality='{{ quality ?? '90' }}' }} 1.5x,
                        {{ glide:image fit='crop_focal' dpr='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='{{ maxwidth ?? width }}' quality='{{ quality ?? '90' }}' }} 2x"
                type="image/webp">
    
            {{# Source for medium screens #}}
            <source media="(min-width: 640px)"
                srcset="{{ glide:image fit='crop_focal' sharpen='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='560' quality='{{ quality ?? '90' }}' }},
                        {{ glide:image fit='crop_focal' dpr='1.5' format='webp' height='{{ maxheight ? maxheight : '' }}' width='560' quality='{{ quality ?? '90' }}' }} 1.5x,
                        {{ glide:image fit='crop_focal' dpr='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='560' quality='{{ quality ?? '90' }}' }} 2x"
                type="image/webp">

    
            {{# Source for Small screens #}}
            <source 
                srcset="{{ glide:image fit='crop_focal' sharpen='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='480' quality='{{ quality ?? '90' }}' }},
                        {{ glide:image fit='crop_focal' dpr='1.5' format='webp' height='{{ maxheight ? maxheight : '' }}' width='480' quality='{{ quality ?? '90' }}' }} 1.5x,
                        {{ glide:image fit='crop_focal' dpr='2' format='webp' height='{{ maxheight ? maxheight : '' }}' width='480' quality='{{ quality ?? '90' }}' }} 2x"
                type="image/webp">
        
            {{ else }}
            {{# If the image does not need to be responsive, for example testimonial pictures or preview articles #}}
            <source
                srcset="{{ glide:image fit='crop_focal' format='webp' sharpen='2' width='{{ maxwidth ?? width }}' height='{{ maxheight ?? height }}' quality='{{ quality ?? '90' }}' }},
                        {{ glide:image fit='crop_focal' dpr='1.5' format='webp' width='{{ maxwidth ?? width }}' height='{{ maxheight ?? height }}' quality='{{ quality ?? '90' }}' }} 1.5x,
                        {{ glide:image fit='crop_focal' dpr='2' format='webp' width='{{ maxwidth ?? width }}' height='{{ maxheight ?? height }}' quality='{{ quality ?? '90' }}' }} 2x"
                type="image/webp">
        
            {{ /if }}
            <img src="{{ glide:image fit='crop_focal' format='webp' sharpen='2' width='{{ maxwidth ?? width }}' height='{{ maxheight ?? height }}' quality='{{ quality ?? '90' }}' }}" 
                {{ if cover }}
                    class="object-cover w-full h-full {{ class }}"
                    style="object-position: {{ focus | background_position }}"
                {{ else }}
                    class="{{ class }}"
                {{ /if }}
                width="{{ maxwidth ?? width }}"
                height="{{ maxheight ?? height }}"
                alt="{{ alt ?? title }}"
                {{ if lazy }} loading="lazy" {{ /if }}
                {{ if fetchpriority }} fetchpriority="high" {{ /if }}
            >

        {{ /if }}
    {{ /asset }}
</picture>
{{ /if }}
{{# End: /global/_picture.antlers.html #}}



