---
nav_classes:
  '1': 'text-zinc-800 dark:text-zinc-200 font-bold text-sm mb-2'
  '2': 'text-zinc-700 dark:text-zinc-400 text-xs sm:pl-4'
  '3': 'text-zinc-700 dark:text-zinc-400 text-xs sm:pl-8'
---

<div class="top-2 flex-col space-y-8 pt-1 sm:sticky sm:mt-0 sm:w-2/6 sm:pb-6 lg:pointer-events-auto lg:block lg:h-[calc(100vh-5rem)] lg:w-1/6 lg:overflow-y-auto lg:border-r lg:border-zinc-900/10 lg:px-6 lg:dark:border-zinc-300/10 xl:w-64">
	{{ partial:documentation/search }}
	<div x-id="['side']" class="flex flex-col justify-between">
		<nav class="invisible relative flex-grow xl:visible xl:flex xl:flex-col xl:justify-center" role="navigation" aria-label="Main nav">
			{{# Desktop nav #}}
			<ul class="nav hidden space-y-4 pl-6 lg:block">
				{{ nav:collection:documentation show_unpublished="true" }}
					<li class="{{ if is_current && depth == 2 }}  border-l-2 -ml-0.5  {{ /if }} {{ depth == 2 ?= 'border-purple-500  ' }}">
						<a class="{{ view:nav_classes[depth] }} {{ if is_current && depth == 1 }}  underline  {{ /if }} flex items-center gap-2" href="{{ url }}">
							{{ if children }}
								{{ svg src="{{config:iconamic:path}}/list-end.svg" class='size-3 -ml-1 text-zinc-500 dark:text-zinc-100 flex-none' }}
							{{ /if }}
							{{ title }}
						</a>
						{{ if children }}
							<ul class="{{ depth == 1 ?= ' space-y-2 border-l-2 border-zinc-100 dark:border-zinc-800' }}">
								{{ *recursive children* }}
							</ul>
						{{ /if }}
					</li>
				{{ /nav:collection:documentation }}
			</ul>
			{{# mobile nav #}}
			<ul class="nav lg:hidden" x-data="{ top: false }">
				<div @click="top = ! top" class="flex w-full items-center justify-between rounded-lg border border-zinc-300 bg-zinc-50 p-2.5 text-sm text-zinc-900 focus:border-blue-500 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-700 dark:text-white dark:placeholder-zinc-400 dark:focus:border-blue-500 dark:focus:ring-blue-500">
					<span>{{ title }}</span>
					{{ svg src="{{config:iconamic:path}}/chevron-down.svg" class='size-4 -ml-2 text-zinc-800 dark:text-zinc-100 flex-none' }}
				</div>
				<div x-show="top" x-collapse.duration.500ms class="text-black dark:text-white lg:col-span-3">
					<div class="mx-auto max-w-4xl rounded-lg border border-zinc-200 bg-white dark:border-zinc-700 dark:bg-zinc-800">
						{{ nav:collection:documentation show_unpublished="true" }}
							<div class="{{ if last }}  {{ else }} border-b {{ /if }} relative border-zinc-200 dark:border-zinc-700" x-data="{ expanded: false }">
								{{ if !children }}
									<a class="block w-full px-5 py-5" href="{{ url }}">
										{{ title }}
									</a>
								{{ else }}
									<div class="flex items-center justify-between gap-2 px-5 py-5" @click="expanded = ! expanded">
										{{ title }}
										{{ if is_parent }}
											{{ svg src="{{config:iconamic:path}}/list-end.svg" class='size-4 -ml-1 text-zinc-800 dark:text-zinc-100 flex-none' }}
										{{ /if }}
										<div class="text-zinc-800 dark:text-zinc-500" x-show="expanded" x-collapse.duration.500ms>
											<a href="{{ url }}">
												{{ *recursive children* }}
											</a>
										</div>
									</div>
								{{ /if }}
							</div>
						{{ /nav:collection:documentation }}
					</div>
				</div>
			</ul>
		</nav>
	</div>
</div>
